(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[786],{9996:function(e,t,r){Promise.resolve().then(r.t.bind(r,6656,23)),Promise.resolve().then(r.t.bind(r,6208,23)),Promise.resolve().then(r.t.bind(r,8169,23)),Promise.resolve().then(r.t.bind(r,3699,23)),Promise.resolve().then(r.bind(r,3530)),Promise.resolve().then(r.bind(r,1726)),Promise.resolve().then(r.bind(r,1507)),Promise.resolve().then(r.bind(r,2145)),Promise.resolve().then(r.bind(r,8812))},8812:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var a=r(6705),s=r(6691),l=r.n(s),n=r(1865),i=r(8110),o=r(306),d=r(3656);let{useUploadThing:c,uploadFiles:f}=(0,d.$)();var u=r(6737),m=r(3904),x=r(3762),b=r(4578);let h=b.Ry({profile_photo:b.Z_().url().nonempty(),name:b.Z_().min(3).max(30),username:b.Z_().min(3).max(30),bio:b.Z_().min(3).max(1e3)});var g=r(955),p=r(102);r(4039),r(470);var v=r(1162);(0,v.Z)("04d7d7e152e8d43bfe133b1700993e9c36dbb4f8");var j=(0,v.Z)("83fcee668a299ee1ced696e4187f18f466498dfe");(0,v.Z)("ab3efaa7beb509971f347285944bad7f244fc37e"),(0,v.Z)("649dcaa0dd63a01772deb35a2f8edba38278d1f6"),(0,v.Z)("9aa6d06696f86715cd2894a2b977b168150df461");var N=r(4033),k=e=>{let{user:t,btnTitle:r}=e,[s,d]=(0,g.useState)([]),{startUpload:f}=c("media"),b=(0,N.useRouter)(),v=(0,N.usePathname)(),k=(0,n.cI)({resolver:(0,i.F)(h),defaultValues:{profile_photo:(null==t?void 0:t.image)||"",name:(null==t?void 0:t.name)||"",username:(null==t?void 0:t.username)||"",bio:(null==t?void 0:t.bio)||""}}),y=(e,t)=>{e.preventDefault();let r=new FileReader;if(e.target.files&&e.target.files.length>0){let a=e.target.files[0];if(d(Array.from(e.target.files)),!a.type.includes("image"))return;r.onload=async e=>{var r,a;let s=(null===(a=e.target)||void 0===a?void 0:null===(r=a.result)||void 0===r?void 0:r.toString())||"";t(s)},r.readAsDataURL(a)}},w=async e=>{let r=e.profile_photo,a=(0,o.dY)(r);if(a){let t=await f(s);t&&t[0].url&&(e.profile_photo=t[0].url)}await j({userId:t.id,username:e.username,name:e.name,bio:e.bio,image:e.profile_photo,path:v}),"/profile/edit"===v?b.back():b.push("/")};return(0,a.jsx)(u.l0,{...k,children:(0,a.jsxs)("form",{onSubmit:k.handleSubmit(w),className:"flex flex-col justify-start gap-10",children:[(0,a.jsx)(u.Wi,{control:k.control,name:"profile_photo",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.xJ,{className:"flex items-center gap-4",children:[(0,a.jsx)(u.lX,{className:"account-form_image-label",children:t.value?(0,a.jsx)(l(),{src:t.value,alt:"Profile Image",width:96,height:96,priority:!0,className:"rounded-full object-contain"}):(0,a.jsx)(l(),{src:"/assets/profile.svg",alt:"Profile Image",width:24,height:24,className:"object-contain"})}),(0,a.jsx)(u.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(m.I,{type:"file",accept:"image/*",placeholder:"Upload a profile photo",className:"account-form_image-input",onChange:e=>y(e,t.onChange)})}),(0,a.jsx)(u.zG,{})]})}}),(0,a.jsx)(u.Wi,{control:k.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.xJ,{className:"flex flex-col w-full gap-3",children:[(0,a.jsx)(u.lX,{className:"text-base-semibold text-light-2",children:"Name"}),(0,a.jsx)(u.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(m.I,{type:"text",className:"account-form_input no-focus",...t})}),(0,a.jsx)(u.zG,{})]})}}),(0,a.jsx)(u.Wi,{control:k.control,name:"username",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.xJ,{className:"flex flex-col w-full gap-3",children:[(0,a.jsx)(u.lX,{className:"text-base-semibold text-light-2",children:"Username"}),(0,a.jsx)(u.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(m.I,{type:"text",className:"account-form_input no-focus",...t})}),(0,a.jsx)(u.zG,{})]})}}),(0,a.jsx)(u.Wi,{control:k.control,name:"bio",render:e=>{let{field:t}=e;return(0,a.jsxs)(u.xJ,{className:"flex flex-col w-full gap-3",children:[(0,a.jsx)(u.lX,{className:"text-base-semibold text-light-2",children:"Bio"}),(0,a.jsx)(u.NI,{className:"flex-1 text-base-semibold text-gray-200",children:(0,a.jsx)(p.g,{rows:10,className:"account-form_input no-focus",...t})}),(0,a.jsx)(u.zG,{})]})}}),(0,a.jsx)(x.z,{type:"submit",children:"Submit"})]})})}},3762:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var a=r(6705),s=r(955),l=r(7256),n=r(6061),i=r(306);let o=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:d=!1,...c}=e,f=d?l.g7:"button";return(0,a.jsx)(f,{className:(0,i.cn)(o({variant:s,size:n,className:r})),ref:t,...c})});d.displayName="Button"},6737:function(e,t,r){"use strict";r.d(t,{l0:function(){return u},NI:function(){return v},Wi:function(){return x},xJ:function(){return g},lX:function(){return p},zG:function(){return N}});var a=r(6705),s=r(955),l=r(7256),n=r(1865),i=r(306),o=r(6743),d=r(6061);let c=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,i.cn)(c(),r),...s})});f.displayName=o.f.displayName;let u=n.RV,m=s.createContext({}),x=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(n.Qr,{...t})})},b=()=>{let e=s.useContext(m),t=s.useContext(h),{getFieldState:r,formState:a}=(0,n.Gc)(),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},h=s.createContext({}),g=s.forwardRef((e,t)=>{let{className:r,...l}=e,n=s.useId();return(0,a.jsx)(h.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...l})})});g.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:l,formItemId:n}=b();return(0,a.jsx)(f,{ref:t,className:(0,i.cn)(l&&"text-red-500 dark:text-red-900",r),htmlFor:n,...s})});p.displayName="FormLabel";let v=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:o}=b();return(0,a.jsx)(l.g7,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...r})});v.displayName="FormControl";let j=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:l}=b();return(0,a.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-sm text-slate-500 dark:text-slate-400",r),...s})});j.displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e,{error:n,formMessageId:o}=b(),d=n?String(null==n?void 0:n.message):s;return d?(0,a.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-red-500 dark:text-red-900",r),...l,children:d}):null});N.displayName="FormMessage"},3904:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(6705),s=r(955),l=r(306);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-slate-200 border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...n})});n.displayName="Input"},102:function(e,t,r){"use strict";r.d(t,{g:function(){return n}});var a=r(6705),s=r(955),l=r(306);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...s})});n.displayName="Textarea"},306:function(e,t,r){"use strict";r.d(t,{cn:function(){return l},dY:function(){return n}});var a=r(7042),s=r(3986);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m)((0,a.W)(t))}function n(e){return/^data:image\/(png|jpe?g|gif|webp);base64,/.test(e)}}},function(e){e.O(0,[583,222,694,87,906,121,114,744],function(){return e(e.s=9996)}),_N_E=e.O()}]);